From 0bf8b796a0ea98395b390c7807187982215f5c11 Mon Sep 17 00:00:00 2001
From: Daniel Stenberg <daniel@haxx.se>
Date: Tue, 27 Dec 2022 11:50:23 +0100
Subject: [PATCH] tool_operate: share HSTS between handles

Conflict: NA
Reference: https://github.com/curl/curl/commit/0bf8b796a0ea98395b390c7807187982215f5c11
---
 src/tool_operate.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/tool_operate.c b/src/tool_operate.c
index 616061ee46359..2b0cc083c0cc7 100644
--- a/src/tool_operate.c
+++ b/src/tool_operate.c
@@ -2721,6 +2721,7 @@ CURLcode operate(struct GlobalConfig *global, int argc, argv_item_t argv[])
         curl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_SSL_SESSION);
         curl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_CONNECT);
         curl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_PSL);
+        curl_share_setopt(share, CURLSHOPT_SHARE, CURL_LOCK_DATA_HSTS);
 
         /* Get the required arguments for each operation */
         do {
